# 쿠팡이츠 어플 리뷰를 통한 기업이미지 분석 및 비즈니스 인사이트 제고_4조 프로젝트

## 소개

- 코로나 시대, 딜리버리 산업 시장이 급속도로 증가했습니다. 배달의 민족, 요기요, 쿠팡이츠 등 다양한 딜리버리 기업들에 주목했고, 그 중 시장점유율 2등과 3등에 주로 머무는 쿠팡이츠에 주목했습니다. 시장점유율 1위인 배달의 민족에 비해 상대적으로 어떤 문제점이 있는지 파악하고 비즈니스 인사이트를 제시해보았습니다

## 파일 설명

### 크롤링 데이터 파일

#### 구글
1. Crawling_data_쿠팡이츠, Crawling_data_쿠팡이츠2, Crawling_data_쿠팡이츠 배달파트너,  Crawling_data_쿠팡이츠 배달파트너2,  Crawling_data_쿠팡이츠스토어, Crawling_data_쿠팡이츠스토어2 6개의 csv파일로 업로드했다.
2. 'DATE'열은 날짜, 'STAR'열은 별점 수, 'LIKE'열은 리뷰에 대한 좋아요 수, 'REVIEW'열은 리뷰를 나타낸다.
3. Raw_data는 Crawling_data_쿠팡이츠, Crawling_data_쿠팡이츠 배달파트너, Crawling_data_쿠팡이츠스토어 이며 실제로 분석에 사용한 데이터는 Crawling_data_쿠팡이츠2, Crawling_data_쿠팡이츠 배달파트너2, Crawling_data_쿠팡이츠스토어2 를 사용했다. 2가 붙은 파일의 경우 특정 기간 데이터 선택을 용이하게 하기 위해 DATE열의 셀 서식을 수정해주었다.

#### 애플
1. Appdata(coupang-eats).csv, Appdata(coupang-eats-rider).csv, Appdata(coupang-eats-store).csv, clean_coupang-eats_v1.0.csv, clean_coupang-eats_v1.0-rider.csv, clean_coupang-eats_v2.0.csv, clean_coupang-eats-rider_v2.0.csv 7개의 파일을 업로드하였다.
2. coupang-eats-rider의 경우 'STAR'열은 별점 수, 'LIKE'열은 리뷰에 대한 좋아요 수, 'REVIEW'열은 리뷰를 나타낸다. coupang-eats의 경우 'review'는 리뷰, 
'date'는 날짜, 'rating'은 별점의 수를 나타낸다.
3. Raw_data는 Appdata(coupang-eats).csv, Appdata(coupang-eats-rider).csv, Appdata(coupang-eats-store).csv 이며 전처리 후 clean_coupang-eats_v1.0.csv, clean_coupang-eats_v1.0-rider.csv를 사용하였고 실제 코드에는 날짜가 조정된 clean_coupang-eats_v2.0.csv, clean_coupang-eats-rider_v2.0.csv를 사용하였다. 스토어에 대한 전처리 파일이 없는 이유는 데이터의 양이 워낙 적어서 정확도가 매우 낮아서 사용하지 않았다.


### 코드 파일

#### 구글
1. 데이터 청년 캠퍼스_4조 프로젝트_크롤링_Googleplaystore_최종.ipynb, 데이터 청년 캠퍼스_4조 프로젝트_쿠팡이츠_최종.ipynb, 데이터 청년 캠퍼스_4조 프로젝트_쿠팡이츠배달파트너_최종.ipynb, 데이터 청년 캠퍼스_4조 프로젝트_쿠팡이츠스토어_최종.ipynb 4개의 파일을 업로드했다.
#### 애플
1. 데이터청년캠퍼스_4조 프로젝트_크롤링(애플)_최종.ipynb, 데이터 청년 캠퍼스_4조 프로젝트_쿠팡이츠라이더_최종(애플).ipynb, 데이터청년캠퍼스_4조 프로젝트_전처리(애플)_최종.ipynb, 데이터청년캠퍼스_4조 프로젝트_쿠팡이츠(애플)_최종.ipynb 4개의 파일을 업로드했다.

### 시각화 파일

#### 구글
1. 구글플레이스토어_쿠팡이츠_시각화자료, 구글플레이스토어_쿠팡이츠배달파트너_시각화자료, 구글플레이스토어_쿠팡이츠스토어_시각화자료 3개의 파일을 업로드했다.
#### 애플
1. 애플_쿠팡이츠라이더 시각화, 애플_쿠팡이츠 시각화 2개의 파일을 업로드했다.

## 코드 설명

## 구글

### 데이터 청년 캠퍼스_4조 프로젝트_크롤링_Googleplaystore_최종.ipynb

1. 크롬드라이버를 사용하여 크롤링을 진행하였다.
2. 전체 리뷰를 크롤링하기 위해서 자동화 코드를 만들었다.
- Why?
- 4번의 스크롤링마다 '더보기' 버튼이 나타나며 이 버튼을 눌러야 크롤링이 계속 진행된다.
- 긴 리뷰의 경우 '전체 리뷰' 버튼을 클릭하여 펼쳐서 확인해야 한다. 
3. '날짜, 별점, 좋아요, 리뷰'만 추출하였다.

## 애플

### 데이터청년캠퍼스_4조 프로젝트_크롤링(애플)_최종.ipynb

1. 쿠팡이츠에 관한 크롤링은 AppStoreScraper라는 api를 사용하여 크롤링을 진행하였다.
2. 나머지 쿠팡 라이더와 스토어에 관한 크로릥은 rss feed를 사용하여 크롤링을 진행하였다.
3. 쿠팡이츠는 모든 데이터를 불러왔고 쿠팡 라이더와 스토어는 날짜, 별점, 좋아요, 싫어요, 타이틀, 리뷰 순으로 추출하였다.

### 데이터청년캠퍼스_4조 프로젝트_전처리(애플)_최종.ipynb
1. 쿠팡이츠, 라이더, 스토어의 필요없는 열을 지우기 위해 만들었다.
2. 쿠팡이츠의 경우 'userName', 'isEdited', 'developerResponse', 'title'의 열을 삭제하고 Null값 삭제와 중복 행 삭제를 진행하였다.
3. 쿠팡이츠 라이더와 스토어의 경우 'LIKE', 'DISLIKE', 'TITLE'의 열을 삭제하고 Null값 삭제와 중복 행 삭제를 진행하였다.


### 데이터 청년 캠퍼스_4조 프로젝트_쿠팡이츠_최종.ipynb, 데이터 청년 캠퍼스_4조 프로젝트_쿠팡이츠배달파트너_최종.ipynb, 데이터 청년 캠퍼스_4조 프로젝트_쿠팡이츠스토어_최종.ipynb, 데이터청년캠퍼스_4조 프로젝트_크롤링(애플)_최종.ipynb, 데이터청년캠퍼스_4조 프로젝트_쿠팡이츠(애플)_최종.ipynb

#### 감성분석, 연관어분석, 토픽모델링 세 파트로 나눠져있다.

##### 감성분석

- 감성분석은 전처리, 임베딩, 감성분석 세 파트로 나누어진다.
- 전처리는 전처리 함수 text_cleansing과 한글 불용어 사전을 자체적으로 만들어 적용하고 한글자 키워드 제거, 띄어쓰기 1개 이하를 포함한 한글을 추출하여 진행하였다.
- 임베딩은 BoW벡터를 생성하고, TF-IDF에 적용하였다.
- 감성분석은 1, 2, 3점은 부정적인 리뷰, 4, 5점은 긍정적인 리뷰로 라벨링하고, 다양한 모델들을 사용하여 진행하였다. 모델 성능 및 결과를 고려하여 LogisticRegression 모델을 사용하여 진행하였다. 긍부정 각각 20개씩 상위 키워드를 추출하였고, 단어의 계수를 고려한 여론 수치화를 진행하여 표시했다.

##### 연관어분석

- 연관어분석은 전처리 및 토큰화, Word2Vec모델, 긍부정 TOP 20 키워드로 연관어 분석 세 파트로 나눠져있다.
- 전처리 및 토큰화는 한글자 키워드 제거 및 불용어 제거를 한 줄씩 적용하고 한글자 키워드 제거, 띄어쓰기 1개 이하를 포함한 한글을 추출하여 진행했다.
- Word2Vec모델은 sigmoid방식을 적용해 진행하였다.
- 긍부정 TOP 20 키워드로 연관어 분석은 감성분석에서 추출한 긍부정 TOP 20 키워드를 사용하여 진행했다.
- PCA, TSNE Plot을 통해 시각화를 진행했다.

##### 토픽모델링

- 토픽모델링은 전처리 및 토큰화, 임베딩, 시각화 자료(빈도 분석, 워드클라우드), 토픽모델링으로 나누어진다.
- 전처리 및 토큰화는 전처리 함수 apply_regular_expression, get_nouns, 불용어 사전을 자체적으로 만들어 적용했고, 한글자 키워드 제거, 띄어쓰기 1개 이하를 포함한 한글을 추출하여 진행했다.
- 임베딩은 CountVectorizer함수를 사용하여 countvector를 만들고 tdm을 만들어 진행했다.
- 시각화 자료는 빈도 분석 그래프와 워드클라우드를 제시했다.
- 토픽모델링은 LdaModel 함수를 사용하여 진행했다.

###### 애플의 쿠팡 스토어의 경우는 데이터 수가 워낙 적어 정확도가 너무 낮아 결론에 배제시키기로 하였다.


